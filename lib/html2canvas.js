!function(t,e,n){var r,a,o,i,l,s={};function c(t,e,n){var r,a=t.runtimeStyle&&t.runtimeStyle[e],o=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=o.left,a&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":n||0,n=o.pixelLeft+"px",o.left=r,a&&(t.runtimeStyle.left=a)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function d(t){return parseInt(t,10)}function h(t){return-1!==t.toString().indexOf("%")}s.Util={},s.Util.log=function(e){s.logging&&t.console&&t.console.log&&t.console.log(e)},s.Util.trimText=(a=String.prototype.trim,function(t){return a?a.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}),s.Util.asFloat=function(t){return parseFloat(t)},o=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,i=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,s.Util.parseTextShadows=function(t){if(!t||"none"===t)return[];for(var e=t.match(o),n=[],r=0;e&&r<e.length;r++){var a=e[r].match(i);n.push({color:a[0],offsetX:a[1]?a[1].replace("px",""):0,offsetY:a[2]?a[2].replace("px",""):0,blur:a[3]?a[3].replace("px",""):0})}return n},s.Util.parseBackgroundImage=function(t){var e,n,r,a,o,i,l,s,c=[],d=0,h=0,u=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===e.substr(0,1)&&(a=e.indexOf("-",1)+1)>0&&(r=e.substr(0,a),e=e.substr(a)),c.push({prefix:r,method:e.toLowerCase(),value:o,args:s})),s=[],e=r=n=o=""};u();for(var f=0,p=t.length;f<p;f++)if(i=t[f],!(0===d&&" \r\n\t".indexOf(i)>-1)){switch(i){case'"':l?l===i&&(l=null):l=i;break;case"(":if(l)break;if(0===d){d=1,o+=i;continue}h++;break;case")":if(l)break;if(1===d){if(0===h){d=0,o+=i,u();continue}h--}break;case",":if(l)break;if(0===d){u();continue}if(1===d&&0===h&&!e.match(/^url$/i)){s.push(n),n="",o+=i;continue}}o+=i,0===d?e+=i:n+=i}return u(),c},s.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},s.Util.OffsetBounds=function(t){var e=t.offsetParent?s.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},s.Util.getCSS=function(t,a,o){void 0!==t&&(r=e.defaultView.getComputedStyle(t,null));var i=r[a];if(/^background(Size|Position)$/.test(a))return function(t,e,r,a){if(t=(t=(t||"").split(","))[a||0]||t[0]||"auto",t=s.Util.trimText(t).split(" "),"backgroundSize"===r&&t[0]&&t[0].match(/^(cover|contain|auto)$/))return t;if(t[0]=-1===t[0].indexOf("%")?c(e,r+"X",t[0]):t[0],t[1]===n){if("backgroundSize"===r)return t[1]="auto",t;t[1]=t[0]}return t[1]=-1===t[1].indexOf("%")?c(e,r+"Y",t[1]):t[1],t}(i,t,a,o);if(/border(Top|Bottom)(Left|Right)Radius/.test(a)){var l=i.split(" ");return l.length<=1&&(l[1]=l[0]),l.map(d)}return i},s.Util.resizeBounds=function(t,e,n,r,a){var o,i,l=t/e;return a&&"auto"!==a?n/r<l^"contain"===a?(i=r,o=r*l):(o=n,i=n/l):(o=n,i=r),{width:o,height:i}},s.Util.BackgroundPosition=function(t,e,n,r,a){var o,i,l=s.Util.getCSS(t,"backgroundPosition",r);return 1===l.length&&(l=[l[0],l[0]]),o=h(l[0])?(e.width-(a||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),i="auto"===l[1]?o/n.width*n.height:h(l[1])?(e.height-(a||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(o=i/n.height*n.width),{left:o,top:i}},s.Util.BackgroundSize=function(t,e,n,r){var a,o,i=s.Util.getCSS(t,"backgroundSize",r);if(1===i.length&&(i=[i[0],i[0]]),h(i[0]))a=e.width*parseFloat(i[0])/100;else{if(/contain|cover/.test(i[0]))return s.Util.resizeBounds(n.width,n.height,e.width,e.height,i[0]);a=parseInt(i[0],10)}return o="auto"===i[0]&&"auto"===i[1]?n.height:"auto"===i[1]?a/n.width*n.height:h(i[1])?e.height*parseFloat(i[1])/100:parseInt(i[1],10),"auto"===i[0]&&(a=o/n.height*n.width),{width:a,height:o}},s.Util.BackgroundRepeat=function(t,e){var n=s.Util.getCSS(t,"backgroundRepeat").split(",").map(s.Util.trimText);return n[e]||n[0]},s.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s.Util.Children=function(t){var e,r,a;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:(r=t.childNodes,a=[],null!==r&&function(t,e){var r=t.length,a=0;if("number"==typeof e.length)for(var o=e.length;a<o;a++)t[r++]=e[a];else for(;e[a]!==n;)t[r++]=e[a++];t.length=r}(a,r),a)}catch(t){s.Util.log("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},s.Util.isTransparent=function(t){return!t||"transparent"===t||"rgba(0, 0, 0, 0)"===t},s.Util.Font=(l={},function(t,e,r){if(l[t+"-"+e]!==n)return l[t+"-"+e];var a,o,i=r.createElement("div"),s=r.createElement("img"),c=r.createElement("span");return i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin=0,i.style.padding=0,r.body.appendChild(i),s.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",c.style.fontFamily=t,c.style.fontSize=e,c.style.margin=0,c.style.padding=0,c.appendChild(r.createTextNode("Hidden Text")),i.appendChild(c),i.appendChild(s),a=s.offsetTop-c.offsetTop+1,i.removeChild(c),i.appendChild(r.createTextNode("Hidden Text")),i.style.lineHeight="normal",s.style.verticalAlign="super",o={baseline:a,lineWidth:1,middle:s.offsetTop-i.offsetTop+1},l[t+"-"+e]=o,r.body.removeChild(i),o}),function(){var t=s.Util,n={};s.Generate=n;var r=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];function a(e){return function(n){try{e.addColorStop(n.stop,n.color)}catch(e){t.log(["failed to add color stop: ",e,"; tried to add: ",n])}}}n.parseGradient=function(t,e){var n,a,o,i,l,s,c,d,h,u,f,p,g=r.length;for(a=0;a<g&&!(o=t.match(r[a]));a+=1);if(o)switch(o[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},l=o[2].match(/\w+/g))for(s=l.length,a=0;a<s;a+=1)switch(l[a]){case"top":n.y0=0,n.y1=e.height;break;case"right":n.x0=e.width,n.x1=0;break;case"bottom":n.y0=e.height,n.y1=0;break;case"left":n.x0=0,n.x1=e.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=e.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=e.height/2),l=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=l.length,c=1/Math.max(s-1,1),a=0;a<s;a+=1)(d=l[a].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(i=parseFloat(d[2]),"%"===d[3]?i/=100:i/=e.width):i=a*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-gradient":if(n={type:"radial"===o[2]?"circle":o[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},(l=o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=l[1]*e.width/100,n.y0=l[2]*e.height/100,n.x1=l[3]*e.width/100,n.y1=l[4]*e.height/100),l=o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(s=l.length,a=0;a<s;a+=1)d=l[a].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),i=parseFloat(d[2]),"from"===d[1]&&(i=0),"to"===d[1]&&(i=1),n.colorStops.push({color:d[3],stop:i});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},(l=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=l[1]*e.width/100,n.y0=l[2]*e.height/100,n.x1=e.width-n.x0,n.y1=e.height-n.y0),l=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(s=l.length,c=1/Math.max(s-1,1),a=0;a<s;a+=1)(d=l[a].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/))[2]?(i=parseFloat(d[2]),d[3]&&(i/=100)):i=a*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},(l=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.cx=l[1]*e.width/100,n.cy=l[2]*e.height/100),l=o[3].match(/\w+/),d=o[4].match(/[a-z\-]*/),l&&d)switch(d[0]){case"farthest-corner":case"cover":case"":h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(h,u,f,p);break;case"closest-corner":h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(h,u,f,p);break;case"farthest-side":"circle"===l[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=l[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===l[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=l[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(l=o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=l.length,c=1/Math.max(s-1,1),a=0;a<s;a+=1)(d=l[a].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(i=parseFloat(d[2]),"%"===d[3]?i/=100:i/=e.width):i=a*c,n.colorStops.push({color:d[1],stop:i})}return n},n.Gradient=function(t,n){if(0!==n.width&&0!==n.height){var r,o,i=e.createElement("canvas"),l=i.getContext("2d");if(i.width=n.width,i.height=n.height,r=s.Generate.parseGradient(t,n))switch(r.type){case"linear":o=l.createLinearGradient(r.x0,r.y0,r.x1,r.y1),r.colorStops.forEach(a(o)),l.fillStyle=o,l.fillRect(0,0,n.width,n.height);break;case"circle":o=l.createRadialGradient(r.cx,r.cy,0,r.cx,r.cy,r.rx),r.colorStops.forEach(a(o)),l.fillStyle=o,l.fillRect(0,0,n.width,n.height);break;case"ellipse":var c=e.createElement("canvas"),d=c.getContext("2d"),h=Math.max(r.rx,r.ry),u=2*h;c.width=c.height=u,o=d.createRadialGradient(r.rx,r.ry,0,r.rx,r.ry,h),r.colorStops.forEach(a(o)),d.fillStyle=o,d.fillRect(0,0,u,u),l.fillStyle=r.colorStops[r.colorStops.length-1].color,l.fillRect(0,0,i.width,i.height),l.drawImage(c,r.cx-r.rx,r.cy-r.ry,2*r.rx,2*r.ry)}return i}},n.ListAlpha=function(t){var e,n="";do{e=t%26,n=String.fromCharCode(e+64)+n,t/=26}while(26*t>26);return n},n.ListRoman=function(t){var e,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],a="",o=n.length;if(t<=0||t>=4e3)return t;for(e=0;e<o;e+=1)for(;t>=r[e];)t-=r[e],a+=n[e];return a}}(),s.Parse=function(r,a,o){t.scroll(0,0);var i,l,c,d=a.elements===n?e.body:a.elements[0],h=d.ownerDocument,u=s.Util,f=u.Support(a,h),p=new RegExp("("+a.ignoreElements+")"),g=h.body,m=u.getCSS,y="___html2canvas___pseudoelement",w=h.createElement("style");function x(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"").trim()}function b(t,e){var n=parseInt(m(t,e),10);return isNaN(n)?0:n}function v(t,e,n,r,a,o){"transparent"!==o&&(t.setVariable("fillStyle",o),t.fillRect(e,n,r,a),1)}function C(t,e,n){if(t.length>0)return e+n.toUpperCase()}function k(t,e,n,r){null!==t&&u.trimText(t).length>0&&(r.fillText(t,e,n),1)}function T(t,e,n,r){var a=m(e,"fontWeight"),o=m(e,"fontFamily"),i=m(e,"fontSize"),l=u.parseTextShadows(m(e,"textShadow"));switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}if(t.setVariable("fillStyle",r),t.setVariable("font",[m(e,"fontStyle"),m(e,"fontVariant"),a,i,o].join(" ")),t.setVariable("textAlign","left"),l.length&&(t.setVariable("shadowColor",l[0].color),t.setVariable("shadowOffsetX",l[0].offsetX),t.setVariable("shadowOffsetY",l[0].offsetY),t.setVariable("shadowBlur",l[0].blur)),"none"!==n)return u.Font(o,i,h)}function S(t,e,n,r,a){var o;if(f.rangeBounds&&!a)"none"===n&&0===u.trimText(e).length||(o=function(t,e,n){var r=h.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var i=r?t.node.splitText(e.length):null;o=function(t,e){var n=t.parentNode,r=h.createElement("wrapper"),a=t.cloneNode(!0);r.appendChild(t.cloneNode(!0)),n.replaceChild(r,t);var o=e?u.OffsetBounds(r):u.Bounds(r);return n.replaceChild(a,r),o}(t.node,a),t.node=i}return o}function E(t,e,n){var r,o,i,l=n.ctx,s=m(t,"color"),c=m(t,"textDecoration"),d=m(t,"textAlign"),h={node:e,textOffset:0};u.trimText(e.nodeValue).length>0&&(e.nodeValue=function(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,C);case"uppercase":return t.toUpperCase();default:return t}}(e.nodeValue,m(t,"textTransform")),d=d.replace(["-webkit-auto"],["auto"]),o=!a.letterRendering&&/^(left|right|justify|auto)$/.test(d)&&(i=m(t,"letterSpacing"),/^(normal|none|0px)$/.test(i))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),r=T(l,t,c,s),a.chinese&&o.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&((t=t.split("")).unshift(e,1),o.splice.apply(o,t))}),o.forEach(function(t,e){var a=S(h,t,c,e<o.length-1,n.transform.matrix);a&&(k(t,a.left,a.bottom,l),function(t,e,n,r,a){switch(e){case"underline":v(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,a);break;case"overline":v(t,n.left,Math.round(n.top),n.width,1,a);break;case"line-through":v(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,a)}}(l,c,a,r,s))}))}function R(t,e,n){var r,a,o=e.ctx,i=m(t,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(i)){if(a=function(t,e){var n,r,a=h.createElement("boundelement");return a.style.display="inline",n=t.style.listStyleType,t.style.listStyleType="none",a.appendChild(h.createTextNode(e)),t.insertBefore(a,t.firstChild),r=u.Bounds(a),t.removeChild(a),t.style.listStyleType=n,r}(t,r=function(t,e){var n,r=function(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}(t);switch(e){case"decimal":n=r;break;case"decimal-leading-zero":n=1===r.toString().length?r="0"+r.toString():r.toString();break;case"upper-roman":n=s.Generate.ListRoman(r);break;case"lower-roman":n=s.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=s.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=s.Generate.ListAlpha(r)}return n+". "}(t,i)),T(o,t,"none",m(t,"color")),"inside"!==m(t,"listStylePosition"))return;o.setVariable("textAlign","left"),k(r,n.left,a.bottom,o)}}function M(t){var e=r[t];return!(!e||!0!==e.succeeded)&&e.img}function I(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return{left:n,top:r,width:Math.min(t.left+t.width,e.left+e.width)-n,height:Math.min(t.top+t.height,e.top+e.height)-r}}function L(t,e,n,r,a){var o=b(e,"paddingLeft"),i=b(e,"paddingTop"),l=b(e,"paddingRight"),s=b(e,"paddingBottom");D(t,n,0,0,n.width,n.height,r.left+o+a[3].width,r.top+i+a[0].width,r.width-(a[1].width+a[3].width+o+l),r.height-(a[0].width+a[2].width+i+s))}function O(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:b(t,"border"+e+"Width"),color:m(t,"border"+e+"Color")}})}function z(t,e,n,r){var a=(Math.sqrt(2)-1)/3*4,o=n*a,i=r*a,l=t+n,s=e+r;return{topLeft:B({x:t,y:s},{x:t,y:s-i},{x:l-o,y:e},{x:l,y:e}),topRight:B({x:t,y:e},{x:t+o,y:e},{x:l,y:s-i},{x:l,y:s}),bottomRight:B({x:l,y:e},{x:l,y:e+i},{x:t+o,y:s},{x:t,y:s}),bottomLeft:B({x:l,y:s},{x:l-o,y:s},{x:t,y:e+i},{x:t,y:e})}}function B(t,e,n,r){var a=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(o){var i=a(t,e,o),l=a(e,n,o),s=a(n,r,o),c=a(i,l,o),d=a(l,s,o),h=a(c,d,o);return[B(t,i,c,h),B(h,d,s,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function U(t,e,n,r,a,o,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",o,i]),(n[0]>0||n[1]>0)&&t.push(["line",a[0].start.x,a[0].start.y])}function A(t,e,n,r,a,o,i){var l=[];return e[0]>0||e[1]>0?(l.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(l)):l.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(l.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(l),l.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(l)):(l.push(["line",t.c2[0],t.c2[1]]),l.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(l.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(l)):l.push(["line",t.c4[0],t.c4[1]]),l}function N(t,e,n,r,a){var o=[];switch(m(t,"backgroundClip")){case"content-box":case"padding-box":U(o,r[0],r[1],e.topLeftInner,e.topRightInner,a.left+n[3].width,a.top+n[0].width),U(o,r[1],r[2],e.topRightInner,e.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),U(o,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),U(o,r[3],r[0],e.bottomLeftInner,e.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:U(o,r[0],r[1],e.topLeftOuter,e.topRightOuter,a.left,a.top),U(o,r[1],r[2],e.topRightOuter,e.bottomRightOuter,a.left+a.width,a.top),U(o,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,a.left+a.width,a.top+a.height),U(o,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,a.left,a.top+a.height)}return o}function P(t,e,n){var r,a,o,i,l,s,c=e.left,d=e.top,h=e.width,u=e.height,f=function(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return m(t,"border"+e+"Radius")})}(t),p=function(t,e,n){var r=t.left,a=t.top,o=t.width,i=t.height,l=e[0][0],s=e[0][1],c=e[1][0],d=e[1][1],h=e[2][0],u=e[2][1],f=e[3][0],p=e[3][1],g=o-c,m=i-u,y=o-h,w=i-p;return{topLeftOuter:z(r,a,l,s).topLeft.subdivide(.5),topLeftInner:z(r+n[3].width,a+n[0].width,Math.max(0,l-n[3].width),Math.max(0,s-n[0].width)).topLeft.subdivide(.5),topRightOuter:z(r+g,a,c,d).topRight.subdivide(.5),topRightInner:z(r+Math.min(g,o+n[3].width),a+n[0].width,g>o+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:z(r+y,a+m,h,u).bottomRight.subdivide(.5),bottomRightInner:z(r+Math.min(y,o+n[3].width),a+Math.min(m,i+n[0].width),Math.max(0,h-n[1].width),Math.max(0,u-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:z(r,a+w,f,p).bottomLeft.subdivide(.5),bottomLeftInner:z(r+n[3].width,a+w,Math.max(0,f-n[3].width),Math.max(0,p-n[2].width)).bottomLeft.subdivide(.5)}}(e,f,n),g={clip:N(t,p,n,f,e),borders:[]};for(r=0;r<4;r++)if(n[r].width>0){switch(a=c,o=d,i=h,l=u-n[2].width,r){case 0:l=n[0].width,s=A({c1:[a,o],c2:[a+i,o],c3:[a+i-n[1].width,o+l],c4:[a+n[3].width,o+l]},f[0],f[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:s=A({c1:[(a=c+h-n[1].width)+(i=n[1].width),o],c2:[a+i,o+l+n[2].width],c3:[a,o+l],c4:[a,o+n[0].width]},f[1],f[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:s=A({c1:[a+i,(o=o+u-n[2].width)+(l=n[2].width)],c2:[a,o+l],c3:[a+n[3].width,o],c4:[a+i-n[3].width,o]},f[2],f[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:i=n[3].width,s=A({c1:[a,o+l+n[2].width],c2:[a,o],c3:[a+i,o+n[0].width],c4:[a+i,o+l]},f[3],f[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner)}g.borders.push({args:s,color:n[r].color})}return g}function F(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function V(t,e,n){var r,a,o=h.createElement("valuewrap");["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"].forEach(function(e){try{o.style[e]=m(t,e)}catch(t){u.log("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}}),o.style.borderColor="black",o.style.borderStyle="solid",o.style.display="block",o.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(o.style.lineHeight=m(t,"height")),o.style.top=e.top+"px",o.style.left=e.left+"px",(r="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value)||(r=t.placeholder),a=h.createTextNode(r),o.appendChild(a),g.appendChild(o),E(t,a,n),g.removeChild(o)}function D(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),1}function $(n,r){var a=t.getComputedStyle(n,r),o=t.getComputedStyle(n);if(a&&a.content&&"none"!==a.content&&"-moz-alt-content"!==a.content&&"none"!==a.display&&o.content!==a.content){var i=a.content+"";"'"!==i[0]&&'"'!==i[0]||(i=i.replace(/(^['"])|(['"]$)/g,""));var l="url"===i.substr(0,3),s=e.createElement(l?"img":"span");return s.className=y+"-element ",Object.keys(a).filter(G).forEach(function(t){try{s.style[t]=a[t]}catch(e){u.log(["Tried to assign readonly property ",t,"Error:",e])}}),l?s.src=u.parseBackgroundImage(i)[0].args[0]:s.innerHTML=i,s}}function G(e){return isNaN(t.parseInt(e,10))}function H(t,e,n,r){var a=Math.round(r.left+n.left),o=Math.round(r.top+n.top);t.createPattern(e),t.translate(a,o),t.fill(),t.translate(-a,-o)}function W(t,e,n,r,a,o,i,l){var s=[];s.push(["line",Math.round(a),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(l+o)]),s.push(["line",Math.round(a),Math.round(l+o)]),F(t,s),t.save(),t.clip(),H(t,e,n,r),t.restore()}function j(t,e,n,r,a){var o=u.BackgroundSize(t,e,r,a),i=u.BackgroundPosition(t,e,r,a,o),l=u.BackgroundRepeat(t,a);switch(r=function(t,e){if(t.width===e.width&&t.height===e.height)return t;var n=h.createElement("canvas");return n.width=e.width,n.height=e.height,D(n.getContext("2d"),t,0,0,t.width,t.height,0,0,e.width,e.height),n}(r,o),l){case"repeat-x":case"repeat no-repeat":W(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":case"no-repeat repeat":W(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":W(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:H(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height})}}function q(t,e,n){return t.setVariable("globalAlpha",m(e,"opacity")*(n?n.opacity:1))}function X(t){return t.replace("px","")}function _(t,e,n,r){var o,i,l,s=(o=e?n.width:Math.max(Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),Math.max(h.body.offsetWidth,h.documentElement.offsetWidth),Math.max(h.body.clientWidth,h.documentElement.clientWidth)),i=e?n.height:Math.max(Math.max(h.body.scrollHeight,h.documentElement.scrollHeight),Math.max(h.body.offsetHeight,h.documentElement.offsetHeight),Math.max(h.body.clientHeight,h.documentElement.clientHeight)),{storage:l=[],width:o,height:i,clip:function(){l.push({type:"function",name:"clip",arguments:arguments})},translate:function(){l.push({type:"function",name:"translate",arguments:arguments})},fill:function(){l.push({type:"function",name:"fill",arguments:arguments})},save:function(){l.push({type:"function",name:"save",arguments:arguments})},restore:function(){l.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){l.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){l.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return l.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){l.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){l.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){return l.push({type:"variable",name:t,arguments:e}),e}}),c={ctx:s,opacity:q(s,t,e),cssPosition:m(t,"position"),borders:O(t),transform:r,clip:e&&e.clip?u.Extend({},e.clip):null};return function(t,e,n){var r,a="static"!==e.cssPosition,o=a?m(t,"zIndex"):"auto",i=m(t,"opacity"),l="none"!==m(t,"cssFloat");e.zIndex=r={depth:0,zindex:o,children:[]},r.isPositioned=a,r.isFloated=l,r.opacity=i,r.ownStacking="auto"!==o||i<1,r.depth=n?n.zIndex.depth+1:0,n&&n.zIndex.children.push(e)}(t,c,e),!0===a.useOverflow&&!0===/(hidden|scroll|auto)/.test(m(t,"overflow"))&&!1===/(BODY)/i.test(t.nodeName)&&(c.clip=c.clip?I(c.clip,n):n),c}function Y(t,e,n){var r,a=function(t,e){var n,r=m(t,"transform")||m(t,"-webkit-transform")||m(t,"-moz-transform")||m(t,"-ms-transform")||m(t,"-o-transform"),a=m(t,"transform-origin")||m(t,"-webkit-transform-origin")||m(t,"-moz-transform-origin")||m(t,"-ms-transform-origin")||m(t,"-o-transform-origin")||"0px 0px";if(a=a.split(" ").map(X).map(u.asFloat),r&&"none"!==r){var o=r.match(/(matrix)\((.+)\)/);if(o)switch(o[1]){case"matrix":n=o[2].split(",").map(u.trimText).map(u.asFloat)}}return{origin:a,matrix:n}}(t),o=function(t,e){var n=e.matrix?u.OffsetBounds(t):u.Bounds(t);return e.origin[0]+=n.left,e.origin[1]+=n.top,n}(t,a),i=_(t,e,o,a),l=i.borders,s=i.ctx,c=function(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=I(r,n)),r}(l,o,i.clip),d=P(t,o,l),h=p.test(t.nodeName)?"#efefef":m(t,"backgroundColor");switch(F(s,d.clip),s.save(),s.clip(),c.height>0&&c.width>0&&!n?(function(t,e,n){v(t,e.left,e.top,e.width,e.height,n)}(s,o,h),function(t,e,n){for(var r,a=m(t,"backgroundImage"),o=u.parseBackgroundImage(a),i=o.length;i--;)(a=o[i]).args&&0!==a.args.length&&((r=M("url"===a.method?a.args[0]:a.value))?j(t,e,n,r,i):u.log("html2canvas: Error loading background:",a))}(t,c,s)):n&&(i.backgroundColor=h),s.restore(),d.borders.forEach(function(t){!function(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),F(t,e),t.fill(),1)}(s,t.args,t.color)}),t.nodeName){case"IMG":(r=M(t.getAttribute("src")))?L(s,t,r,o,l):u.log("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder||"").length>0&&V(t,o,i);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&V(t,o,i);break;case"SELECT":(t.options||t.placeholder||"").length>0&&V(t,o,i);break;case"LI":R(t,i,c);break;case"CANVAS":L(s,t,t,o,l)}return i}function Q(t,e,n){if(n||(n=function(){}),function(t){return"none"!==m(t,"display")&&"hidden"!==m(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")}(t)&&(e=Y(t,e,!1)||e,!p.test(t.nodeName)))return J(t,e,n);n()}function J(t,e,n){var r=u.Children(t),o=r.length+1;function i(n){n.nodeType===n.ELEMENT_NODE?Q(n,e,l):n.nodeType===n.TEXT_NODE?(E(t,n,e),l()):l()}function l(t){--o<=0&&(u.log("finished rendering "+r.length+" children."),n())}l(),a.async?r.forEach(function(t){setTimeout(function(){i(t)},0)}):r.forEach(i)}w.innerHTML="."+y+'-parent:before { content: "" !important; display: none !important; }.'+y+'-parent:after { content: "" !important; display: none !important; }',g.appendChild(w),r=r||{},i=m(e.documentElement,"backgroundColor"),l=u.isTransparent(i)&&d===e.body,c=Y(d,null,!1),function(t){var n=[],r=[];function a(t){var e=$(t,":before"),r=$(t,":after");e&&n.push({type:"before",pseudo:e,el:t}),r&&n.push({type:"after",pseudo:r,el:t})}(function(){for(var t=/:before|:after/,n=e.styleSheets,a=0,o=n.length;a<o;a++)try{for(var i=n[a].cssRules,l=0,s=i.length;l<s;l++)t.test(i[l].selectorText)&&r.push(i[l].selectorText)}catch(t){}for(a=0,o=r.length;a<o;a++)r[a]=r[a].match(/(^[^:]*)/)[1]})(),function(t){for(var n=e.querySelectorAll(r.join(",")),o=0,i=n.length;o<i;o++)a(n[o])}(),n.forEach(function(t){var e,n;e=t.el,n=y+"-parent",e.classList?e.classList.add(n):e.className=e.className+" "+n}),n.forEach(function(t){"before"===t.type?t.el.insertBefore(t.pseudo,t.el.firstChild):t.el.appendChild(t.pseudo)})}(),J(d,c,function(){l&&(i=c.backgroundColor),function(){g.removeChild(w);for(var t=e.getElementsByClassName(y+"-element");t.length;)t[0].parentNode.removeChild(t[0]);for(var n=e.getElementsByClassName(y+"-parent");n.length;)x(n[0],y+"-parent")}(),u.log("Done parsing, moving to Render."),o({backgroundColor:i,stack:c})})},s.Preload=function(r){var a,o,i,l,c={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},d=s.Util,h=0,u=r.elements[0]||e.body,f=u.ownerDocument,p=u.getElementsByTagName("img"),g=p.length,m=f.createElement("a"),y=(new Image).crossOrigin!==n;function w(){d.log("html2canvas: start: images: "+c.numLoaded+" / "+c.numTotal+" (failed: "+c.numFailed+")"),!c.firstRun&&c.numLoaded>=c.numTotal&&(d.log("Finished loading images: # "+c.numTotal+" (failed: "+c.numFailed+")"),"function"==typeof r.complete&&r.complete(c))}function x(e,a,o){var i,l,s=r.proxy;m.href=e,e=m.href,i="html2canvas_"+h++,o.callbackname=i,s.indexOf("?")>-1?s+="&":s+="?",s+="url="+encodeURIComponent(e)+"&callback="+i,l=f.createElement("script"),t[i]=function(e){"error:"===e.substring(0,6)?(o.succeeded=!1,c.numLoaded++,c.numFailed++,w()):(k(a,o),a.src=e),t[i]=n;try{delete t[i]}catch(t){}l.parentNode.removeChild(l),l=null,delete o.script,delete o.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",s),o.script=l,t.document.body.appendChild(l)}function b(e,n){var r=t.getComputedStyle(e,n),a=r.content;"url"===a.substr(0,3)&&o.loadImage(s.Util.parseBackgroundImage(a)[0].args[0]),C(r.backgroundImage,e)}function v(t){return t&&t.method&&t.args&&t.args.length>0}function C(t,e){var r;s.Util.parseBackgroundImage(t).filter(v).forEach(function(t){"url"===t.method?o.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(r===n&&(r=s.Util.Bounds(e)),function(t,e){var r=s.Generate.Gradient(t,e);r!==n&&(c[t]={img:r,succeeded:!0},c.numTotal++,c.numLoaded++,w())}(t.value,r))})}function k(e,a){e.onload=function(){a.timer!==n&&t.clearTimeout(a.timer),c.numLoaded++,a.succeeded=!0,e.onerror=e.onload=null,w()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(a.timer),r.proxy)){var n=e.src;return e=new Image,a.img=e,e.src=n,void x(e.src,e,a)}c.numLoaded++,c.numFailed++,a.succeeded=!1,e.onerror=e.onload=null,w()}}for(m.href=t.location.href,a=m.protocol+m.host,o={loadImage:function(t){var e,o,i;t&&c[t]===n&&(e=new Image,t.match(/data:image\/.*;base64,/i)?(e.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),o=c[t]={img:e},c.numTotal++,k(e,o)):(i=t,m.href=i,m.href=m.href,m.protocol+m.host===a||!0===r.allowTaint?(o=c[t]={img:e},c.numTotal++,k(e,o),e.src=t):y&&!r.allowTaint&&r.useCORS?(e.crossOrigin="anonymous",o=c[t]={img:e},c.numTotal++,k(e,o),e.src=t):r.proxy&&(o=c[t]={img:e},c.numTotal++,x(t,e,o))))},cleanupDOM:function(a){var o,i;if(!c.cleanupDone){for(i in a&&"string"==typeof a?d.log("html2canvas: Cleanup because: "+a):d.log("html2canvas: Cleanup after timeout: "+r.timeout+" ms."),c)if(c.hasOwnProperty(i)&&"object"==typeof(o=c[i])&&o.callbackname&&o.succeeded===n){t[o.callbackname]=n;try{delete t[o.callbackname]}catch(t){}o.script&&o.script.parentNode&&(o.script.setAttribute("src","about:blank"),o.script.parentNode.removeChild(o.script)),c.numLoaded++,c.numFailed++,d.log("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+c.numLoaded+" / "+c.numTotal)}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),c.cleanupDone=!0,a&&"string"==typeof a||w()}},renderingDone:function(){l&&t.clearTimeout(l)}},r.timeout>0&&(l=t.setTimeout(o.cleanupDOM,r.timeout)),d.log("html2canvas: Preload starts: finding background-images"),c.firstRun=!0,function t(e){var r,a=!1;try{d.Children(e).forEach(t)}catch(t){}try{a=e.nodeType}catch(t){a=!1,d.log("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(1===a||a===n){b(r=e,":before"),b(r,":after");try{C(d.getCSS(e,"backgroundImage"),e)}catch(t){d.log("html2canvas: failed to get background-image - Exception: "+t.message)}C(e)}}(u),d.log("html2canvas: Preload: Finding images"),i=0;i<g;i+=1)o.loadImage(p[i].getAttribute("src"));return c.firstRun=!1,d.log("html2canvas: Preload: Done."),c.numTotal===c.numLoaded&&w(),o},s.Renderer=function(t,r){function a(t,e){return"children"===t?-1:"children"===e?1:t-e}return function(t){var e;if("string"==typeof r.renderer&&s.Renderer[t]!==n)e=s.Renderer[t](r);else{if("function"!=typeof t)throw new Error("Unknown renderer");e=t(r)}if("function"!=typeof e)throw new Error("Invalid renderer defined");return e}(r.renderer)(t,r,e,function(t){var e=[];return function t(n){Object.keys(n).sort(a).forEach(function(r){var a=[],o=[],i=[],l=[];n[r].forEach(function(t){t.node.zIndex.isPositioned||t.node.zIndex.opacity<1?i.push(t):t.node.zIndex.isFloated?o.push(t):a.push(t)}),function t(e){e.forEach(function(e){l.push(e),e.children&&t(e.children)})}(a.concat(o,i)),l.forEach(function(n){n.context?t(n.context):e.push(n.node)})})}(function(t){var e={};return function t(e,r,a){var o="auto"===r.zIndex.zindex?0:Number(r.zIndex.zindex),i=e,l=r.zIndex.isPositioned,s=r.zIndex.isFloated,c={node:r},d=a;r.zIndex.ownStacking?(i=c.context={children:[{node:r,children:[]}]},d=n):(l||s)&&(d=c.children=[]),0===o&&a?a.push(c):(e[o]||(e[o]=[]),e[o].push(c)),r.zIndex.children.forEach(function(e){t(i,e,d)})}(e,t),e}(t)),e}(t.stack),s)},s.Util.Support=function(t,e){return{rangeBounds:(o=!1,e.createRange&&(r=e.createRange()).getBoundingClientRect&&((a=e.createElement("boundtest")).style.height="123px",a.style.display="block",e.body.appendChild(a),r.selectNode(a),123===r.getBoundingClientRect().height&&(o=!0),e.body.removeChild(a)),o),svgRendering:t.svgRendering&&function(){var t=new Image,r=e.createElement("canvas"),a=r.getContext!==n&&r.getContext("2d");if(!1===a)return!1;r.width=r.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{a.drawImage(t,0,0),r.toDataURL()}catch(t){return!1}return s.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}()};var r,a,o},t.html2canvas=function(e,n){var r,a={logging:!1,elements:e=e.length?e:[e],background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,async:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return a=s.Util.Extend(n,a),s.logging=a.logging,a.complete=function(t){"function"==typeof a.onpreloaded&&!1===a.onpreloaded(t)||s.Parse(t,a,function(t){"function"==typeof a.onparsed&&!1===a.onparsed(t)||(r=s.Renderer(t,a),"function"==typeof a.onrendered&&a.onrendered(r))})},t.setTimeout(function(){s.Preload(a)},0),{render:function(t,e){return s.Renderer(t,s.Util.Extend(e,a))},parse:function(t,e){return s.Parse(t,s.Util.Extend(e,a))},preload:function(t){return s.Preload(s.Util.Extend(t,a))},log:s.Util.log}},t.html2canvas.log=s.Util.log,t.html2canvas.Renderer={Canvas:n},s.Renderer.Canvas=function(t){t=t||{};var r=e,a=[],o=e.createElement("canvas"),i=o.getContext("2d"),l=s.Util,c=t.canvas||r.createElement("canvas");function d(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(t){l.log("html2canvas: Renderer: Error creating pattern",t.message)}break;case"drawShape":!function(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}(e,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&function(t){if(-1===a.indexOf(t.arguments[0].src)){i.drawImage(t.arguments[0],0,0);try{i.getImageData(0,0,1,1)}catch(t){return o=r.createElement("canvas"),i=o.getContext("2d"),!1}a.push(t.arguments[0].src)}return!0}(n))&&e.drawImage.apply(e,n.arguments);break;default:e[n.name].apply(e,n.arguments)}}}return function(t,e,r,a,o){var i,s,h,u=c.getContext("2d"),f=t.stack;return c.width=c.style.width=e.width||f.ctx.width,c.height=c.style.height=e.height||f.ctx.height,h=u.fillStyle,u.fillStyle=l.isTransparent(t.backgroundColor)&&e.background!==n?e.background:t.backgroundColor,u.fillRect(0,0,c.width,c.height),u.fillStyle=h,a.forEach(function(t){u.textBaseline="bottom",u.save(),t.transform.matrix&&(u.translate(t.transform.origin[0],t.transform.origin[1]),u.transform.apply(u,t.transform.matrix),u.translate(-t.transform.origin[0],-t.transform.origin[1])),t.clip&&(u.beginPath(),u.rect(t.clip.left,t.clip.top,t.clip.width,t.clip.height),u.clip()),t.ctx.storage&&t.ctx.storage.forEach(function(t){d(u,t)}),u.restore()}),l.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===e.elements.length&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName?(s=o.Util.Bounds(e.elements[0]),(i=r.createElement("canvas")).width=Math.ceil(s.width),i.height=Math.ceil(s.height),(u=i.getContext("2d")).drawImage(c,s.left,s.top,s.width,s.height,0,0,s.width,s.height),c=null,i):c}}}(window,document);